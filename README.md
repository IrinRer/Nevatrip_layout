## Описание

Адаптивные блоки с информацией об обзорных экскурсиях, созданные с помощью JavaScript. 

Тестовое задание для компании Nevatrip. 

## Задача 

1. Верстка блока

Нужно сверстать страницу по макету по принципу mobile-first.

Примечания:

+ Если времен больше чем на 1 строчку, то в конце строчки должна появиться кнопка "ещё..." при нажатии на которую будут раскрываться скрытые времена.

+ Под ценой может не быть надписи "1200₽ на причале" в таком случае цена должна быть выровнена посередине относительно копки "подробнее" 

2. Таблица на странице

https://codepen.io/kizoso/pen/VwpeeRY

В текст статьи на странице с адаптивной версткой менеджеры добавили таблицу. На десктопе таблицы выглядят хорошо, но на мобиле - появляется горизонтальный скролл, верстка едет. Что делать?

## Ответ на задачу 2

Если я правильно поняла, то нужно было подумать, как сделать так, чтобы верстка оставалась красивой и ничего не разъезжалось.

Я решила, что можно добавить к стилю **.block** свойство **min-width: 350px**.

https://codepen.io/irinrer/pen/oNdVoWY 

## Что было сделано 

1. Верстка по принципу mobile-first.

Сначала верстала под мобильные устройства, затем под декстоп.

Адаптив сделан с помощью **mixin**, который принимает переменные и в зависимости от значения возвращает нужный @media.

```
 @include media-breakpoint-only(mobile-first) {
      flex-wrap: nowrap;
 }
```

```
  @else if($size == mobile-first) {
    @media (min-width: 600px){
      @content;
    }
  }
``` 

2. Цвета вынесенные в отдельные **SCSS переменные**.

Это было сделано для того, чтобы можно было быстро сменить цвета, поменяв значение только в переменной. 

3. Цвет карточки на фотографии меняется динамически, при передаче параметра **color**, который устанавливается в атрибут. 

По атрибуту происходит изменение цвета и стилей. 

```
.img-card-block[data-color="yellow"] {
    background: $main-color;
    top: 40px;
  }
```

4. Карточки создаются динамически с помощью JavaScript.

Карточки являются однотипными, поэтому их создания можно автоматизировать, просто передав нужные значение. Затем JavaScript создаст нужную HTML-разметку. 

```
const block1 = new createBlock({
  img: "/img/peterburg.jpg",
  blockImgCard: "Новинка",
  color: 'yellow',
  title:
    "АКЦИЯ - Обзорная экскурсия по рекам и каналам с остановками Hop on Hop Off 2019",
  hour: "2",
  list: [
    "Билет на целый день",
    "Неограниченное число катаний",
    "6 остановок у главных достопримечательностей",
  ],
  price: 900,
  availability: "1200 р на причале",
});
```

**createBlock** - это класс, который занимается созданием однотипных объектов. У него есть метод **create**, который и создает блоки на страничке.

`` block1.create(); ``

Таким образом, получается, что мы не тратим время на разметку, а просто создаем разные экземпляры классов. 

5. Если времен больше чем на 1 строчку, то в конце строчки должна появиться кнопка "ещё..." при нажатии на которую будут раскрываться скрытые времена.

Чтобы это реализовать, я решила, что должна знать ширину контейнера, в котором располагаются времена и знать ширину, которую занимают все эти кнопки. 

``` 
window.addEventListener("resize", () => {
  widthWrapperMain = wrapperMain.clientWidth;
});
``` 

Так будет обновляться **widthWrapperMain** (ширина контейнера) при каждом изменении окна браузера. 

Кнопки, которые содержат времена будут формироваться динамически с помощью функции **addTime**. 

```
function addTime(arr) {
  btnGroupTime.forEach((btnGroupItem) => {
    let sumWidth = 0;
    for (let i = 0; i < arr.length; i++) {
      if (widthWrapperMain - 310 > sumWidth) {
        btnGroupItem.innerHTML += `<button>${arr[i]}</button>`;
        sumWidth += btnGroupItem.querySelector("button").clientWidth;
      } else {
        btnGroupItem.innerHTML += `<select><option>...ещё</option></select>`;
        const select = btnGroupItem.querySelector("select");
        select.classList.add("select");
        for (let j = i; j < arr.length; j++) {
          select.innerHTML += `<option>${arr[j]}</option>`;
        }
        return;
      }
    }
  });
}
``` 
**btnGroupTime** - это обертка над кнопками. Так как на странице несколько блоков (article), то и их несколько, поэтому я прохожусь по ним с помощью **forEach** ( мне не нужно ничего возвращать).

**sumWidth** - это переменная, которая будет хранить в себе размер кнопок. 

**arr** - это массив с времена. Например: `['12:00', '12:00'...]. Прохожусь по нему с помощью цикла for, так как мне нужна возможность выйти из этого цикла. 

```
for (let j = i; j < arr.length; j++) {
          select.innerHTML += `<option>${arr[j]}</option>`;
 }
```
Этот for нужен для того, чтобы заполнить select нужными датами. 


## Как запустить проект 

Можете посмотреть тут: irinrer.github.io/Nevatrip_layout/ 

1. Клонируете репозиторий 

``git clone https://github.com/IrinRer/Nevatrip_layout.git``

2. Запускаете на вашем устройстве, например с помощью **Live server**
